var n,e,o,r,t,u,c,i,f,p,l,s,v;import{options as a}from"preact";function d(n,e,o){return{_ck:n,_rk:e,_p:o}}function m(){for(var n in f)document.addEventListener(n,O)}function _(){for(var n in f)document.removeEventListener(n,O)}function h(n){for(var e,o=[n.target],r=[n.target];r.length;)(e=r.pop().parentElement)&&(r.push(e),o.push(e));return o}function S(n,e,o){var r,t,u,c,i,f=[];for(r=0,t=e;r<t.length;r+=1)null!=(c=(u=t[r]).__v)&&"object"==typeof c.props&&null!=(i=c.props[n])&&f.push({_ic:o,_c:i,_p:c.props,_d:u});return f}function y(n,e,o){var r,t,u,c=[];for(r=0,t=f[n]._ck;r<t.length;r+=1)(u=t[r]).indexOf("Capture")>-1?c.push.apply(c,S(u,o,!0)):c.push.apply(c,S(u,e,!1));return c}function R(n){var e=n.composedPath,o=n.path||(null!=e?e():h(n)),r=o.concat([]).reverse();return{p:o,pr:r}}function b(n,e,o){var r=o[e],t=x();t._v&&(t._v._e={_r:r,_t:n.type})}function E(n,e,o,r){var t,u=o[e];x()._v={_e:{_r:u,_t:n.type},_p:o,_d:r},(t=o.onResponderGrant)&&t(n)}function j(n,e,o,r){var t=T()._p,u=t.onResponderTerminate,c=t.onResponderTerminationRequest,i=o.onResponderReject;c?c(n)?(E(n,e._rk,o,r),u&&u(n)):i&&i(n):(E(n,e._rk,o,r),u&&u(n))}function C(n){l.touchHistory.numberActiveTouches=n.nativeEvent.touches.length}function M(n){return n._p===r.start}function g(n){return n._p===r.move}function k(n){return n._p===r.end}function x(){return s.ResponderEventPlugin}function T(){var n=x();if(n)return n._v}function w(){var n=T();if(n)return n._e}function H(){var n=w();if(n)return n._r}function K(n,e){var o,r,t,u,c,i,p,s,v,a,d=f[n.type];if(C(n),M(d)||g(d)){for(o=0,r=e;o<r.length;o+=1)if(t=r[o],n=Object.assign({},n,{bubbles:!t._ic}),t._c(n)){null==(u=T())?E(n,d._rk,t._p,t._d):u._d===t._d?b(n,d._rk,t._p):j(n,d,t._p,t._d);break}(c=H())&&(c(n),x()._v._e=null)}k(d)&&null!=(i=T())&&(s=(p=i._p).onResponderRelease,(v=p.onResponderEnd)&&v(n),0===l.touchHistory.numberActiveTouches&&(s&&s(n),(a=x())&&(a._v=null)))}function O(n){var e,o,r=x();r&&null!=(e=r.extractEvents(n.type,{},n,n.target))&&(n.nativeEvent=e.nativeEvent,o=R(n),K(n,y(n.type,o.p,o.pr)))}e=a.__p,a.__p=function(o){null!=(n=o)?m():_(),e&&e(o)},o=a.__c,a.__c=function(e){var r,t,u,c,i;if(n&&x())for(r=[n];r.length;)if("string"==typeof(t=r.pop()).type&&(t._d.__v=t),null!=t.__k&&null!=t.__k.length)for(u=0,c=t.__k;u<c.length;u+=1)null!=(i=c[u])&&r.push(i);o&&o(e)},function(n){n[n.start=0]="start",n[n.move=1]="move",n[n.end=2]="end"}(r||(r={})),t=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder"],u=d(["onStartShouldSetResponderCapture","onStartShouldSetResponder"],"onResponderStart",r.start),c=d(t,"onResponderMove",r.move),i=d([],"onResponderEnd",r.end),f={touchstart:u,mousedown:u,touchmove:c,mousemove:c,touchend:i,mouseup:i},s={};export default{injectEventPluginsByName:v=function(n){s=Object.assign({},s,n)},ResponderEventPlugin:p={_v:null,extractEvents:function(n,e,o,r){return{nativeEvent:o}},eventTypes:{responderMove:{dependencies:["touchmove","mousemove"]}}},ResponderTouchHistoryStore:l={touchHistory:{numberActiveTouches:0}}};export{p as ResponderEventPlugin,l as ResponderTouchHistoryStore,v as injectEventPluginsByName};
//# sourceMappingURL=index.js.map
